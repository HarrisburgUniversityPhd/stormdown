<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Customisations and extensions | stormdown: A Harrisburg University Dissertation Template for R Markdown</title>
  <meta name="description" content="stormdown:<br />
A Harrisburg University Dissertation<br />
Template for R Markdown</p>" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Customisations and extensions | stormdown: A Harrisburg University Dissertation Template for R Markdown" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/HarrisburgUniversityPhd/stormdown" />
  
  
  <meta name="github-repo" content="HarrisburgUniversityPhd/stormdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Customisations and extensions | stormdown: A Harrisburg University Dissertation Template for R Markdown" />
  
  
  

<meta name="author" content="Author Name" />


<meta name="date" content="2020-12-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="final-notes-on-the-oxthesis-template-and-on-collaboration.html"/>
<link rel="next" href="conclusion.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="templates/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#why-use-it"><i class="fa fa-check"></i>Why use it?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#who-should-use-it"><i class="fa fa-check"></i>Who should use it?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="rmd-basics.html"><a href="rmd-basics.html"><i class="fa fa-check"></i><b>1</b> R Markdown Basics: The Markdown syntax</a><ul>
<li class="chapter" data-level="1.1" data-path="rmd-basics.html"><a href="rmd-basics.html#markdown-basic-syntax"><i class="fa fa-check"></i><b>1.1</b> Markdown basic syntax</a><ul>
<li class="chapter" data-level="1.1.1" data-path="rmd-basics.html"><a href="rmd-basics.html#italics-and-bold"><i class="fa fa-check"></i><b>1.1.1</b> Italics and bold</a></li>
<li class="chapter" data-level="1.1.2" data-path="rmd-basics.html"><a href="rmd-basics.html#inline-code"><i class="fa fa-check"></i><b>1.1.2</b> Inline code</a></li>
<li class="chapter" data-level="1.1.3" data-path="rmd-basics.html"><a href="rmd-basics.html#sub-and-superscript"><i class="fa fa-check"></i><b>1.1.3</b> Sub and superscript</a></li>
<li class="chapter" data-level="1.1.4" data-path="rmd-basics.html"><a href="rmd-basics.html#strikethrough"><i class="fa fa-check"></i><b>1.1.4</b> Strikethrough</a></li>
<li class="chapter" data-level="1.1.5" data-path="rmd-basics.html"><a href="rmd-basics.html#escaping-aka-what-if-i-need-an-actual-asterisk"><i class="fa fa-check"></i><b>1.1.5</b> ‘Escaping’ (aka “What if I need an actual asterisk?”)</a></li>
<li class="chapter" data-level="1.1.6" data-path="rmd-basics.html"><a href="rmd-basics.html#endash-emdash"><i class="fa fa-check"></i><b>1.1.6</b> Endash (–), emdash (—)</a></li>
<li class="chapter" data-level="1.1.7" data-path="rmd-basics.html"><a href="rmd-basics.html#blockquotes"><i class="fa fa-check"></i><b>1.1.7</b> Blockquotes</a></li>
<li class="chapter" data-level="1.1.8" data-path="rmd-basics.html"><a href="rmd-basics.html#headings"><i class="fa fa-check"></i><b>1.1.8</b> Headings</a></li>
<li class="chapter" data-level="1.1.9" data-path="rmd-basics.html"><a href="rmd-basics.html#lists"><i class="fa fa-check"></i><b>1.1.9</b> Lists</a></li>
<li class="chapter" data-level="1.1.10" data-path="rmd-basics.html"><a href="rmd-basics.html#line-breaks"><i class="fa fa-check"></i><b>1.1.10</b> Line breaks</a></li>
<li class="chapter" data-level="1.1.11" data-path="rmd-basics.html"><a href="rmd-basics.html#hyperlinks"><i class="fa fa-check"></i><b>1.1.11</b> Hyperlinks</a></li>
<li class="chapter" data-level="1.1.12" data-path="rmd-basics.html"><a href="rmd-basics.html#footnotes"><i class="fa fa-check"></i><b>1.1.12</b> Footnotes</a></li>
<li class="chapter" data-level="1.1.13" data-path="rmd-basics.html"><a href="rmd-basics.html#comments"><i class="fa fa-check"></i><b>1.1.13</b> Comments</a></li>
<li class="chapter" data-level="1.1.14" data-path="rmd-basics.html"><a href="rmd-basics.html#math"><i class="fa fa-check"></i><b>1.1.14</b> Math</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rmd-basics.html"><a href="rmd-basics.html#additional-resources"><i class="fa fa-check"></i><b>1.2</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="code.html"><a href="code.html"><i class="fa fa-check"></i><b>2</b> Adding code</a><ul>
<li class="chapter" data-level="2.1" data-path="code.html"><a href="code.html#code-chunks"><i class="fa fa-check"></i><b>2.1</b> Code chunks</a><ul>
<li class="chapter" data-level="2.1.1" data-path="code.html"><a href="code.html#setup-chunks"><i class="fa fa-check"></i><b>2.1.1</b> Setup chunks</a></li>
<li class="chapter" data-level="2.1.2" data-path="code.html"><a href="code.html#including-images"><i class="fa fa-check"></i><b>2.1.2</b> Including images</a></li>
<li class="chapter" data-level="2.1.3" data-path="code.html"><a href="code.html#including-plots"><i class="fa fa-check"></i><b>2.1.3</b> Including plots</a></li>
<li class="chapter" data-level="2.1.4" data-path="code.html"><a href="code.html#including-tables"><i class="fa fa-check"></i><b>2.1.4</b> Including tables</a></li>
<li class="chapter" data-level="2.1.5" data-path="code.html"><a href="code.html#a-note-on-content-positioning"><i class="fa fa-check"></i><b>2.1.5</b> A note on content positioning</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="code.html"><a href="code.html#inline-code-1"><i class="fa fa-check"></i><b>2.2</b> Inline code</a><ul>
<li class="chapter" data-level="2.2.1" data-path="code.html"><a href="code.html#referring-to-results-computed-in-other-languages-than-r"><i class="fa fa-check"></i><b>2.2.1</b> Referring to results computed in other languages than R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cites-and-refs.html"><a href="cites-and-refs.html"><i class="fa fa-check"></i><b>3</b> Citations and cross-references</a><ul>
<li class="chapter" data-level="3.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#citations"><i class="fa fa-check"></i><b>3.1</b> Citations</a><ul>
<li class="chapter" data-level="3.1.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#pdf-output"><i class="fa fa-check"></i><b>3.1.1</b> PDF output</a></li>
<li class="chapter" data-level="3.1.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#gitbook-output"><i class="fa fa-check"></i><b>3.1.2</b> Gitbook output</a></li>
<li class="chapter" data-level="3.1.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#insert-references-easily-with-the-citr-add-in"><i class="fa fa-check"></i><b>3.1.3</b> Insert references easily with the <code>citr</code> add-in</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#cross-referencing"><i class="fa fa-check"></i><b>3.2</b> Cross-referencing</a><ul>
<li class="chapter" data-level="3.2.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#section-references"><i class="fa fa-check"></i><b>3.2.1</b> Section references</a></li>
<li class="chapter" data-level="3.2.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#figure-image-and-plot-references"><i class="fa fa-check"></i><b>3.2.2</b> Figure (image and plot) references</a></li>
<li class="chapter" data-level="3.2.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#table-references"><i class="fa fa-check"></i><b>3.2.3</b> Table references</a></li>
<li class="chapter" data-level="3.2.4" data-path="cites-and-refs.html"><a href="cites-and-refs.html#including-page-numbers"><i class="fa fa-check"></i><b>3.2.4</b> Including page numbers</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#customising-your-thesis-front-matter-n-stuff"><i class="fa fa-check"></i><b>3.3</b> Customising your thesis’ front matter ’n stuff</a><ul>
<li class="chapter" data-level="3.3.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#shorten-captions-shown-in-the-list-of-figures-pdf"><i class="fa fa-check"></i><b>3.3.1</b> Shorten captions shown in the list of figures (PDF)</a></li>
<li class="chapter" data-level="3.3.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#shorten-captions-shown-in-the-list-of-tables-pdf"><i class="fa fa-check"></i><b>3.3.2</b> Shorten captions shown in the list of tables (PDF)</a></li>
<li class="chapter" data-level="3.3.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#shorting-the-running-header-pdf"><i class="fa fa-check"></i><b>3.3.3</b> Shorting the running header (PDF)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><i class="fa fa-check"></i><b>4</b> Final Notes on The OxThesis template and on collaboration</a><ul>
<li class="chapter" data-level="4.1" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#beginning-chapters-with-quotes"><i class="fa fa-check"></i><b>4.1</b> Beginning chapters with quotes</a></li>
<li class="chapter" data-level="4.2" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#highlighting-corrections"><i class="fa fa-check"></i><b>4.2</b> Highlighting corrections</a><ul>
<li class="chapter" data-level="4.2.1" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#short-inline-corrections"><i class="fa fa-check"></i><b>4.2.1</b> Short, inline corrections</a></li>
<li class="chapter" data-level="4.2.2" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#blocks-of-added-or-changed-material"><i class="fa fa-check"></i><b>4.2.2</b> Blocks of added or changed material</a></li>
<li class="chapter" data-level="4.2.3" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#stopping-corrections-from-being-highlighted-in-the-output"><i class="fa fa-check"></i><b>4.2.3</b> Stopping corrections from being highlighted in the output</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#diving-in-to-the-oxthesis-latex-template"><i class="fa fa-check"></i><b>4.3</b> Diving in to the OxThesis LaTeX template</a></li>
<li class="chapter" data-level="4.4" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#collaborative-writing"><i class="fa fa-check"></i><b>4.4</b> Collaborative writing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html"><i class="fa fa-check"></i><b>5</b> Customisations and extensions</a><ul>
<li class="chapter" data-level="5.1" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#embedding-pdf-documents-as-chapters"><i class="fa fa-check"></i><b>5.1</b> Embedding PDF documents as chapters</a></li>
<li class="chapter" data-level="5.2" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#customizing-referencing"><i class="fa fa-check"></i><b>5.2</b> Customizing referencing</a><ul>
<li class="chapter" data-level="5.2.1" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#using-a-.csl-file-with-pandoc-instead-of-biblatex"><i class="fa fa-check"></i><b>5.2.1</b> Using a .csl file with pandoc instead of biblatex</a></li>
<li class="chapter" data-level="5.2.2" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#biblatex-custom"><i class="fa fa-check"></i><b>5.2.2</b> Customizing biblatex and adding chapter bibliographies</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#customizing-the-page-headers-and-footers"><i class="fa fa-check"></i><b>5.3</b> Customizing the page headers and footers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="the-first-appendix.html"><a href="the-first-appendix.html"><i class="fa fa-check"></i><b>A</b> The First Appendix</a></li>
<li class="chapter" data-level="B" data-path="the-second-appendix-for-fun.html"><a href="the-second-appendix-for-fun.html"><i class="fa fa-check"></i><b>B</b> The Second Appendix, for Fun</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><p><code>stormdown</code>:<br />
A Harrisburg University Dissertation<br />
Template for R Markdown</p></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="customisations-and-extensions" class="section level1">
<h1><span class="header-section-number">5</span> Customisations and extensions</h1>
<p>This chapter describes a number of possible customizations to the <code>oxforddown</code> thesis.</p>
<div id="embedding-pdf-documents-as-chapters" class="section level2">
<h2><span class="header-section-number">5.1</span> Embedding PDF documents as chapters</h2>
<p>You may want to embed existing PDF documents into the thesis, for example if your department allows a ‘portfolio’ style thesis and you need to include an existing typeset publication as a chapter.</p>
<p>In gitbook output, you can simply use <code>knitr::include_graphics</code> and it should include a scrollable (and downloadable) PDF.
You will probably want to set the chunk options <code>out.width='100%'</code> and <code>out.height='1000px'</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="customisations-and-extensions.html#cb14-1"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figures/pdf_example/Lyngs2020_FB.pdf&quot;</span>)</span></code></pre></div>
<embed src="figures/pdf_example/Lyngs2020_FB.pdf" width="100%" height="1000px" type="application/pdf" />
<p><br></p>
<p>In LaTeX output, however, this approach can cause odd behaviour.
Therefore, when you build your thesis to PDF, split the PDF into an alphanumerically sorted sequence of <strong>single-page</strong> PDF files (you can do this automatically with the package <code>pdftools</code>). You can then use the appropriate LaTeX command to insert them, as shown below (for brevity, in the <code>oxforddown</code> PDF sample content we’re only including two pages)
<em>Note that the chunk option <code>results='asis'</code> must be set.</em>
You may also want to remove margins from the PDF files, which you can do with Adobe Acrobat (paid version) and likely other software.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="customisations-and-extensions.html#cb15-1"></a><span class="co"># install.packages(pdftools)</span></span>
<span id="cb15-2"><a href="customisations-and-extensions.html#cb15-2"></a><span class="co"># split PDF into pages stored in figures/pdf_example/split/</span></span>
<span id="cb15-3"><a href="customisations-and-extensions.html#cb15-3"></a><span class="co"># pdftools::pdf_split(&quot;figures/pdf_example/Lyngs2020_FB.pdf&quot;,</span></span>
<span id="cb15-4"><a href="customisations-and-extensions.html#cb15-4"></a><span class="co">#        output = &quot;figures/pdf_example/split/&quot;)</span></span>
<span id="cb15-5"><a href="customisations-and-extensions.html#cb15-5"></a></span>
<span id="cb15-6"><a href="customisations-and-extensions.html#cb15-6"></a><span class="co"># grab the pages</span></span>
<span id="cb15-7"><a href="customisations-and-extensions.html#cb15-7"></a>pages &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="st">&quot;figures/pdf_example/split&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)</span>
<span id="cb15-8"><a href="customisations-and-extensions.html#cb15-8"></a></span>
<span id="cb15-9"><a href="customisations-and-extensions.html#cb15-9"></a><span class="co"># set how wide you want the inserted PDFs to be: </span></span>
<span id="cb15-10"><a href="customisations-and-extensions.html#cb15-10"></a><span class="co"># 1.0 is 100 per cent of the oxforddown PDF page width;</span></span>
<span id="cb15-11"><a href="customisations-and-extensions.html#cb15-11"></a><span class="co"># you may want to make it a bit bigger</span></span>
<span id="cb15-12"><a href="customisations-and-extensions.html#cb15-12"></a>pdf_width &lt;-<span class="st"> </span><span class="fl">1.2</span></span>
<span id="cb15-13"><a href="customisations-and-extensions.html#cb15-13"></a></span>
<span id="cb15-14"><a href="customisations-and-extensions.html#cb15-14"></a><span class="co"># for each PDF page, insert it nicely and</span></span>
<span id="cb15-15"><a href="customisations-and-extensions.html#cb15-15"></a><span class="co"># end with a page break</span></span>
<span id="cb15-16"><a href="customisations-and-extensions.html#cb15-16"></a><span class="kw">cat</span>(stringr<span class="op">::</span><span class="kw">str_c</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">newpage </span><span class="ch">\\</span><span class="st">begin{center} </span><span class="ch">\\</span><span class="st">makebox[</span><span class="ch">\\</span><span class="st">linewidth][c]{</span><span class="ch">\\</span><span class="st">includegraphics[width=&quot;</span>, pdf_width, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">linewidth]{&quot;</span>, pages, <span class="st">&quot;}} </span><span class="ch">\\</span><span class="st">end{center}&quot;</span>))</span></code></pre></div>
</div>
<div id="customizing-referencing" class="section level2">
<h2><span class="header-section-number">5.2</span> Customizing referencing</h2>
<div id="using-a-.csl-file-with-pandoc-instead-of-biblatex" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Using a .csl file with pandoc instead of biblatex</h3>
<p>The <code>oxforddown</code> package uses biblatex in latex for referencing.
It is also possible to use pandoc for referencing by providing a .csl file in the YAML header of <strong>index.Rmd</strong> (likely requiring commenting out the biblatex code in <strong>templates/template.tex</strong>).
This may be helpful for those who have a .csl file describing the referencing format for a particular journal.
However, note that this approach does not support chapter bibliographies (see Section <a href="customisations-and-extensions.html#biblatex-custom">5.2.2</a>).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="customisations-and-extensions.html#cb16-1"></a><span class="fu">csl</span><span class="kw">:</span><span class="at"> ecology.csl</span></span></code></pre></div>
</div>
<div id="biblatex-custom" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Customizing biblatex and adding chapter bibliographies</h3>
<p>This section provides one example of customizing biblatex. Much of this code was combined from searches on Stack Exchange and other sources (e.g. <a href="https://tex.stackexchange.com/questions/10682/suppress-in-biblatex">here</a>).</p>
<p>In <strong>templates/template.tex</strong>, one can replace the existing biblatex calls with the following to achieve referencing that looks like this:</p>
<p>(Charmantier and Gienapp 2014)</p>
<p>Charmantier, A. and P. Gienapp (2014). Climate change and timing of avian breeding and migration: evolutionary versus plastic changes. Evolutionary Applications 7(1):15–28. doi: 10.1111/eva.12126.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb17-1"><a href="customisations-and-extensions.html#cb17-1"></a><span class="bu">\usepackage</span>[backend=biber,</span>
<span id="cb17-2"><a href="customisations-and-extensions.html#cb17-2"></a>    bibencoding=utf8,</span>
<span id="cb17-3"><a href="customisations-and-extensions.html#cb17-3"></a>    refsection=chapter, <span class="co">% referencing by chapter</span></span>
<span id="cb17-4"><a href="customisations-and-extensions.html#cb17-4"></a>    style=authoryear, </span>
<span id="cb17-5"><a href="customisations-and-extensions.html#cb17-5"></a>    firstinits=true,</span>
<span id="cb17-6"><a href="customisations-and-extensions.html#cb17-6"></a>    isbn=false,</span>
<span id="cb17-7"><a href="customisations-and-extensions.html#cb17-7"></a>    doi=true,</span>
<span id="cb17-8"><a href="customisations-and-extensions.html#cb17-8"></a>    url=false,</span>
<span id="cb17-9"><a href="customisations-and-extensions.html#cb17-9"></a>    eprint=false,</span>
<span id="cb17-10"><a href="customisations-and-extensions.html#cb17-10"></a>    related=false,</span>
<span id="cb17-11"><a href="customisations-and-extensions.html#cb17-11"></a>    dashed=false,</span>
<span id="cb17-12"><a href="customisations-and-extensions.html#cb17-12"></a>    clearlang=true,</span>
<span id="cb17-13"><a href="customisations-and-extensions.html#cb17-13"></a>    maxcitenames=2,</span>
<span id="cb17-14"><a href="customisations-and-extensions.html#cb17-14"></a>    mincitenames=1,</span>
<span id="cb17-15"><a href="customisations-and-extensions.html#cb17-15"></a>    maxbibnames=10,</span>
<span id="cb17-16"><a href="customisations-and-extensions.html#cb17-16"></a>    abbreviate=false,</span>
<span id="cb17-17"><a href="customisations-and-extensions.html#cb17-17"></a>    minbibnames=3,</span>
<span id="cb17-18"><a href="customisations-and-extensions.html#cb17-18"></a>    uniquelist=minyear,</span>
<span id="cb17-19"><a href="customisations-and-extensions.html#cb17-19"></a>    sortcites=true,</span>
<span id="cb17-20"><a href="customisations-and-extensions.html#cb17-20"></a>    date=year</span>
<span id="cb17-21"><a href="customisations-and-extensions.html#cb17-21"></a>]{<span class="ex">biblatex</span>}</span>
<span id="cb17-22"><a href="customisations-and-extensions.html#cb17-22"></a><span class="fu">\AtEveryBibitem</span>{<span class="co">%</span></span>
<span id="cb17-23"><a href="customisations-and-extensions.html#cb17-23"></a>  <span class="fu">\clearlist</span>{language}<span class="co">%</span></span>
<span id="cb17-24"><a href="customisations-and-extensions.html#cb17-24"></a>  <span class="fu">\clearfield</span>{note}</span>
<span id="cb17-25"><a href="customisations-and-extensions.html#cb17-25"></a>}</span>
<span id="cb17-26"><a href="customisations-and-extensions.html#cb17-26"></a></span>
<span id="cb17-27"><a href="customisations-and-extensions.html#cb17-27"></a><span class="fu">\DeclareFieldFormat</span>{titlecase}{<span class="fu">\MakeTitleCase</span>{#1}}</span>
<span id="cb17-28"><a href="customisations-and-extensions.html#cb17-28"></a></span>
<span id="cb17-29"><a href="customisations-and-extensions.html#cb17-29"></a><span class="fu">\newrobustcmd</span>{<span class="fu">\MakeTitleCase</span>}[1]{<span class="co">%</span></span>
<span id="cb17-30"><a href="customisations-and-extensions.html#cb17-30"></a>  <span class="fu">\ifthenelse</span>{<span class="fu">\ifcurrentfield</span>{booktitle}<span class="fu">\OR\ifcurrentfield</span>{booksubtitle}<span class="co">%</span></span>
<span id="cb17-31"><a href="customisations-and-extensions.html#cb17-31"></a>    <span class="fu">\OR\ifcurrentfield</span>{maintitle}<span class="fu">\OR\ifcurrentfield</span>{mainsubtitle}<span class="co">%</span></span>
<span id="cb17-32"><a href="customisations-and-extensions.html#cb17-32"></a>    <span class="fu">\OR\ifcurrentfield</span>{journaltitle}<span class="fu">\OR\ifcurrentfield</span>{journalsubtitle}<span class="co">%</span></span>
<span id="cb17-33"><a href="customisations-and-extensions.html#cb17-33"></a>    <span class="fu">\OR\ifcurrentfield</span>{issuetitle}<span class="fu">\OR\ifcurrentfield</span>{issuesubtitle}<span class="co">%</span></span>
<span id="cb17-34"><a href="customisations-and-extensions.html#cb17-34"></a>    <span class="fu">\OR\ifentrytype</span>{book}<span class="fu">\OR\ifentrytype</span>{mvbook}<span class="fu">\OR\ifentrytype</span>{bookinbook}<span class="co">%</span></span>
<span id="cb17-35"><a href="customisations-and-extensions.html#cb17-35"></a>    <span class="fu">\OR\ifentrytype</span>{booklet}<span class="fu">\OR\ifentrytype</span>{suppbook}<span class="co">%</span></span>
<span id="cb17-36"><a href="customisations-and-extensions.html#cb17-36"></a>    <span class="fu">\OR\ifentrytype</span>{collection}<span class="fu">\OR\ifentrytype</span>{mvcollection}<span class="co">%</span></span>
<span id="cb17-37"><a href="customisations-and-extensions.html#cb17-37"></a>    <span class="fu">\OR\ifentrytype</span>{suppcollection}<span class="fu">\OR\ifentrytype</span>{manual}<span class="co">%</span></span>
<span id="cb17-38"><a href="customisations-and-extensions.html#cb17-38"></a>    <span class="fu">\OR\ifentrytype</span>{periodical}<span class="fu">\OR\ifentrytype</span>{suppperiodical}<span class="co">%</span></span>
<span id="cb17-39"><a href="customisations-and-extensions.html#cb17-39"></a>    <span class="fu">\OR\ifentrytype</span>{proceedings}<span class="fu">\OR\ifentrytype</span>{mvproceedings}<span class="co">%</span></span>
<span id="cb17-40"><a href="customisations-and-extensions.html#cb17-40"></a>    <span class="fu">\OR\ifentrytype</span>{reference}<span class="fu">\OR\ifentrytype</span>{mvreference}<span class="co">%</span></span>
<span id="cb17-41"><a href="customisations-and-extensions.html#cb17-41"></a>    <span class="fu">\OR\ifentrytype</span>{report}<span class="fu">\OR\ifentrytype</span>{thesis}}</span>
<span id="cb17-42"><a href="customisations-and-extensions.html#cb17-42"></a>    {#1}</span>
<span id="cb17-43"><a href="customisations-and-extensions.html#cb17-43"></a>    {<span class="fu">\MakeSentenceCase</span>{#1}}}</span>
<span id="cb17-44"><a href="customisations-and-extensions.html#cb17-44"></a>    </span>
<span id="cb17-45"><a href="customisations-and-extensions.html#cb17-45"></a><span class="co">% \renewbibmacro{in:}{}</span></span>
<span id="cb17-46"><a href="customisations-and-extensions.html#cb17-46"></a><span class="co">% suppress &quot;in&quot; for articles</span></span>
<span id="cb17-47"><a href="customisations-and-extensions.html#cb17-47"></a><span class="co">% </span></span>
<span id="cb17-48"><a href="customisations-and-extensions.html#cb17-48"></a><span class="fu">\renewbibmacro</span>{in:}{<span class="co">%</span></span>
<span id="cb17-49"><a href="customisations-and-extensions.html#cb17-49"></a>  <span class="fu">\ifentrytype</span>{article}{}{<span class="fu">\printtext</span>{<span class="fu">\bibstring</span>{in}<span class="fu">\intitlepunct</span>}}}</span>
<span id="cb17-50"><a href="customisations-and-extensions.html#cb17-50"></a><span class="co">%-- no &quot;quotes&quot; around titles of chapters/article titles</span></span>
<span id="cb17-51"><a href="customisations-and-extensions.html#cb17-51"></a><span class="fu">\DeclareFieldFormat</span>[article, inbook, incollection, inproceedings, misc, thesis, unpublished]</span>
<span id="cb17-52"><a href="customisations-and-extensions.html#cb17-52"></a>{title}{#1}</span>
<span id="cb17-53"><a href="customisations-and-extensions.html#cb17-53"></a><span class="co">%-- no punctuation after volume</span></span>
<span id="cb17-54"><a href="customisations-and-extensions.html#cb17-54"></a><span class="fu">\DeclareFieldFormat</span>[article]</span>
<span id="cb17-55"><a href="customisations-and-extensions.html#cb17-55"></a>{volume}{{#1}}</span>
<span id="cb17-56"><a href="customisations-and-extensions.html#cb17-56"></a><span class="co">%-- puts number/issue between brackets</span></span>
<span id="cb17-57"><a href="customisations-and-extensions.html#cb17-57"></a><span class="fu">\DeclareFieldFormat</span>[article, inbook, incollection, inproceedings, misc, thesis, unpublished]</span>
<span id="cb17-58"><a href="customisations-and-extensions.html#cb17-58"></a>{number}{<span class="fu">\mkbibparens</span>{#1}} </span>
<span id="cb17-59"><a href="customisations-and-extensions.html#cb17-59"></a><span class="co">%-- and then for articles directly the pages w/o any &quot;pages&quot; or &quot;pp.&quot; </span></span>
<span id="cb17-60"><a href="customisations-and-extensions.html#cb17-60"></a><span class="fu">\DeclareFieldFormat</span>[article]</span>
<span id="cb17-61"><a href="customisations-and-extensions.html#cb17-61"></a>{pages}{#1}</span>
<span id="cb17-62"><a href="customisations-and-extensions.html#cb17-62"></a><span class="co">%-- for some types replace &quot;pages&quot; by &quot;p.&quot;</span></span>
<span id="cb17-63"><a href="customisations-and-extensions.html#cb17-63"></a><span class="fu">\DeclareFieldFormat</span>[inproceedings, incollection, inbook]</span>
<span id="cb17-64"><a href="customisations-and-extensions.html#cb17-64"></a>{pages}{p. #1}</span>
<span id="cb17-65"><a href="customisations-and-extensions.html#cb17-65"></a><span class="co">%-- format 16(4):224--225 for articles</span></span>
<span id="cb17-66"><a href="customisations-and-extensions.html#cb17-66"></a><span class="fu">\renewbibmacro</span>*{volume+number+eid}{</span>
<span id="cb17-67"><a href="customisations-and-extensions.html#cb17-67"></a>  <span class="fu">\printfield</span>{volume}<span class="co">%</span></span>
<span id="cb17-68"><a href="customisations-and-extensions.html#cb17-68"></a>  <span class="fu">\printfield</span>{number}<span class="co">%</span></span>
<span id="cb17-69"><a href="customisations-and-extensions.html#cb17-69"></a>  <span class="fu">\printunit</span>{<span class="fu">\addcolon</span>}</span>
<span id="cb17-70"><a href="customisations-and-extensions.html#cb17-70"></a>}</span></code></pre></div>
<p>If you would like chapter bibliographies, in addition insert the following code at the end of each chapter, and comment out the entire REFERENCES section at the end of template.tex.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb18-1"><a href="customisations-and-extensions.html#cb18-1"></a><span class="fu">\printbibliography</span>[segment=<span class="fu">\therefsection</span>,heading=subbibliography]</span></code></pre></div>
</div>
</div>
<div id="customizing-the-page-headers-and-footers" class="section level2">
<h2><span class="header-section-number">5.3</span> Customizing the page headers and footers</h2>
<p>The following code, when it replaces the existing correpsonding code block in <strong>ociamthesis.cls</strong>, puts chapter number and title centered in the header and page number in the footer, centered.
This may be desirable particularly when inserting PDF chapters, as the margins of the PDF may not exactly align with the left and right margins of the page, demarcated by the existing header and footer text.
In the following code block, the original code is commented out where replaced.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb19-1"><a href="customisations-and-extensions.html#cb19-1"></a><span class="bu">\usepackage</span>{<span class="ex">fancyhdr</span>}</span>
<span id="cb19-2"><a href="customisations-and-extensions.html#cb19-2"></a><span class="fu">\setlength</span>{<span class="fu">\headheight</span>}{15pt}</span>
<span id="cb19-3"><a href="customisations-and-extensions.html#cb19-3"></a><span class="fu">\fancyhf</span>{} <span class="co">% clear the header and footers</span></span>
<span id="cb19-4"><a href="customisations-and-extensions.html#cb19-4"></a><span class="fu">\pagestyle</span>{fancy}</span>
<span id="cb19-5"><a href="customisations-and-extensions.html#cb19-5"></a><span class="fu">\renewcommand</span>{<span class="ex">\chaptermark</span>}[1]{<span class="fu">\markboth</span>{<span class="fu">\thechapter</span>. #1}{<span class="fu">\thechapter</span>. #1}}</span>
<span id="cb19-6"><a href="customisations-and-extensions.html#cb19-6"></a><span class="co">% \renewcommand{\chaptermark}[1]{\markboth{\thechapter. #1}{}}</span></span>
<span id="cb19-7"><a href="customisations-and-extensions.html#cb19-7"></a><span class="fu">\renewcommand</span>{<span class="ex">\sectionmark</span>}[1]{<span class="fu">\markright</span>{<span class="fu">\thesection</span>. #1}}</span>
<span id="cb19-8"><a href="customisations-and-extensions.html#cb19-8"></a><span class="fu">\renewcommand</span>{<span class="ex">\headrulewidth</span>}{0pt}</span>
<span id="cb19-9"><a href="customisations-and-extensions.html#cb19-9"></a><span class="fu">\fancyhead</span>[CO]{<span class="fu">\emph</span>{<span class="fu">\leftmark</span>}}</span>
<span id="cb19-10"><a href="customisations-and-extensions.html#cb19-10"></a><span class="fu">\fancyhead</span>[CE]{<span class="fu">\emph</span>{<span class="fu">\rightmark</span>}}</span>
<span id="cb19-11"><a href="customisations-and-extensions.html#cb19-11"></a><span class="co">% \fancyhead[LO,RE]{}</span></span>
<span id="cb19-12"><a href="customisations-and-extensions.html#cb19-12"></a><span class="co">% \fancyhead[LE,RO]{}</span></span>
<span id="cb19-13"><a href="customisations-and-extensions.html#cb19-13"></a><span class="fu">\fancyfoot</span>[CO,CE]{<span class="fu">\emph</span>{<span class="fu">\thepage</span>}}</span>
<span id="cb19-14"><a href="customisations-and-extensions.html#cb19-14"></a></span>
<span id="cb19-15"><a href="customisations-and-extensions.html#cb19-15"></a><span class="fu">\fancypagestyle</span>{plain}{<span class="fu">\fancyhf</span>{}<span class="fu">\fancyfoot</span>[C]{<span class="fu">\emph</span>{<span class="fu">\thepage</span>}}}</span>
<span id="cb19-16"><a href="customisations-and-extensions.html#cb19-16"></a></span>
<span id="cb19-17"><a href="customisations-and-extensions.html#cb19-17"></a><span class="co">% JEM fix header on cleared pages for openright</span></span>
<span id="cb19-18"><a href="customisations-and-extensions.html#cb19-18"></a><span class="fu">\def</span>\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else</span>
<span id="cb19-19"><a href="customisations-and-extensions.html#cb19-19"></a>   \hbox{}</span>
<span id="cb19-20"><a href="customisations-and-extensions.html#cb19-20"></a>   <span class="co">% \fancyhead[RE,LO]{}</span></span>
<span id="cb19-21"><a href="customisations-and-extensions.html#cb19-21"></a>   \fancyhead[CE,CO]{}</span>
<span id="cb19-22"><a href="customisations-and-extensions.html#cb19-22"></a>   \newpage</span>
<span id="cb19-23"><a href="customisations-and-extensions.html#cb19-23"></a>   \if@twocolumn\hbox{}\newpage</span>
<span id="cb19-24"><a href="customisations-and-extensions.html#cb19-24"></a>   \fi</span>
<span id="cb19-25"><a href="customisations-and-extensions.html#cb19-25"></a>   <span class="co">% \fancyhead[LO]{\emph{\leftmark}} </span></span>
<span id="cb19-26"><a href="customisations-and-extensions.html#cb19-26"></a>   <span class="co">% \fancyhead[RE]{\emph{\rightmark}} </span></span>
<span id="cb19-27"><a href="customisations-and-extensions.html#cb19-27"></a>   \fancyhead[CO]{\emph{\leftmark}} </span>
<span id="cb19-28"><a href="customisations-and-extensions.html#cb19-28"></a>   \fancyhead[CE]{\emph{\rightmark}} </span>
<span id="cb19-29"><a href="customisations-and-extensions.html#cb19-29"></a>   \fi\fi}</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ulyngs/oxforddown/tree/master/05-extensions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
